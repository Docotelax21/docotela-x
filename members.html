<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Members Only — Docotela X</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="page">
  <header class="topbar">
    <nav class="center-nav">
      <a href="main.html">Home</a>
      <span class="dot">—</span>
      <a href="about.html">About</a>
      <span class="dot">—</span>
      <a href="contact.html">Contact</a>
    </nav>
    <button id="hamburgerMembers" class="hamburger" aria-label="Open menu" aria-expanded="false"><span></span><span></span><span></span></button>
    <div id="menuMembers" class="menu-panel" aria-hidden="true">
      <a href="main.html">Home</a>
      <a href="collections.html">Collections</a>
      <a href="members.html">Members Only</a>
      <a href="art-gallery.html">Art Gallery</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
  </header>

  <main class="content cinematic-bg">
    <h1 class="page-title">MEMBERS ONLY</h1>
    <p class="lead centered">Welcome to the Vault.</p>

    <div class="member-box">
      <input id="accessKey" type="password" placeholder="Access Key" aria-label="Access Key">
      <button id="enterBtn" class="cta small">Enter</button>
    </div>

    <p id="memberMsg" class="member-msg" aria-live="polite"></p>
    <p class="centered"><a href="apply.html" class="muted-link">Apply for membership</a></p>
  </main>

  <script>
    // hamburger
    const hbM = document.getElementById('hamburgerMembers');
    const mpM = document.getElementById('menuMembers');
    hbM.addEventListener('click', ()=> {
      const e = hbM.getAttribute('aria-expanded') === 'true';
      hbM.setAttribute('aria-expanded', !e); mpM.classList.toggle('open'); mpM.setAttribute('aria-hidden', e);
    });
    document.addEventListener('click', (ev)=> { if (!mpM.contains(ev.target) && !hbM.contains(ev.target)) { mpM.classList.remove('open'); hbM.setAttribute('aria-expanded','false'); mpM.setAttribute('aria-hidden','true'); } });

    // password logic
    document.getElementById('enterBtn').addEventListener('click', checkPassword);
    document.getElementById('accessKey').addEventListener('keyup', (e)=> { if (e.key === 'Enter') checkPassword(); });

    function checkPassword(){
      const key = document.getElementById('accessKey').value.trim();
      const msg = document.getElementById('memberMsg');
      const correct = 'memberson1y';
      msg.className = 'member-msg';
      if (key === correct){
        document.body.classList.add('vault-open');
        msg.textContent = 'Access granted — opening the vault...';
        // cinematic timing then redirect
        setTimeout(()=> { window.location.href = 'vault.html'; }, 2000);
      } else {
        msg.textContent = 'Access denied';
        msg.classList.add('denied');
        // subtle visual cue (flash)
        const input = document.getElementById('accessKey');
        input.classList.add('shake');
        setTimeout(()=> input.classList.remove('shake'),700);
      }
    }
  </script>
</body>
</html>
